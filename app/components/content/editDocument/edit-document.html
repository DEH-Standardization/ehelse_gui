<form ng-controller="EditDocumentController" name="EditDocumentController.DocumentForm"  role="form" class="shadow-below">

    <div class="shadow-below">
        <div class="headline-box">
            <h4 class="selected" ng-if="buttonState == 'editTopic'">Rediger tema</h4>
            <h4 class="selected" ng-if="buttonState == 'newDocument'">Nytt dokument</h4>
            <h4 class="selected" ng-if="buttonState == 'editDocument'">Rediger dokument</h4>
            <h4 class="selected" ng-if="buttonState == 'editProfile'">Rediger profil</h4>
            <h4 class="selected" ng-if="buttonState == 'newProfile'">Ny profil</h4>
        </div>
        <p class="twelve-pix-vertical-padding">
            <button type="button" class="btn btn-primary" ng-click="submit(EditDocumentController.DocumentForm);setButtonState('editDocument');"  ng-if="buttonState == 'newDocument'" ng-disabled="EditDocumentController.DocumentForm.$invalid || EditDocumentController.DocumentForm.$pristine">
                <span class="fa fa-check-circle edit-topic-icon"></span>
                Opprett dokument
            </button>
            <button type="button" class="btn btn-primary" ng-disabled="EditDocumentController.DocumentForm.$invalid || EditDocumentController.DocumentForm.$pristine" ng-click="submit(EditDocumentController.DocumentForm)" ng-if="buttonState == 'editDocument'">
                <span class="fa fa-check-circle-o edit-topic-icon"></span>
                Lagre dokument
            </button>
            <button type="button" class="btn btn-default pull-right" ng-if="buttonState == 'editDocument'" ng-click="newVersion(document)">
                <span class="fa fa-remove delete-topic-icon ten-pix-horizontal-padding"></span>
                Ny versjon
            </button>
            <button type="button" class="btn btn-default pull-right" ng-if="buttonState == 'editProfile' || buttonState == 'editDocument'" ng-click="openConfirmationModal('Er du sikker pÃ¥ at du vil slette dokumentet?', document, deleteDocument)">
                <span class="fa fa-remove delete-topic-icon ten-pix-horizontal-padding"></span>
                Slett dokument
            </button>
        </p>
    </div>

    <div id="document-edit" class="edit-document">

        <div class="panel panel-default">
            <div class="panel-body">

                <!-- choose document type -->
                <div class="form-group">
                    <label class="col-sm-3 control-label" for="documentType">Type dokument: </label>
                    <div class="form-group col-sm-9">
                        <select name="documentType" id="documentType"
                                ng-change="setCurrentDocumentFieldsByDocumentDocumentTypeId();"
                                ng-model="document.documentTypeId" class="form-control half-width">
                            <option ng-repeat="document_type in document_types_option_list"
                                    value="{{document_type.value}}">{{document_type.name}}
                            </option>
                        </select>
                    </div>
                </div>

                <!-- Choose document title -->
                <div class="form-group">
                    <label class="col-sm-3 control-label" for="standardTitle">Tittel: <span class="required-icon"
                                                                                            data-toggle="tooltip"
                                                                                            title="Obligatorisk felt"
                                                                                            data-placement="top">*</span></label>
                    <div class="form-group col-sm-9">
                        <input type="text" name="standardTitle" id="standardTitle" ng-model="document.title"
                               class="form-control half-width" required/>
                    </div>
                </div>
                <!-- Choose Internal ID title -->
                <div class="form-group">
                    <label class="col-sm-3 control-label" for="internalID">Intern ID: <span class="required-icon"
                                                                                            data-toggle="tooltip"
                                                                                            title="Obligatorisk felt"
                                                                                            data-placement="top">*</span></label>
                    <div class="form-group col-sm-9">
                        <input type="text" name="standardTitle" id="internalID" ng-model="document.internalId"
                               class="form-control half-width" required/>
                    </div>
                </div>
                <!-- Choose his number-->
                <div class="form-group">
                    <label class="col-sm-3 control-label" for="hisNumber">HIS nummer: </label>
                    <div class="form-group col-sm-9">
                        <input type="text" name="standardTitle" id="hisNumber" ng-model="document.hisNumber"
                               class="form-control half-width" />
                    </div>
                </div>
                <!-- choose status -->
                <div class="form-group">
                    <label class="col-sm-3 control-label" for="statusid">Status: </label>
                    <div class="form-group col-sm-9">
                        <select name="statusid" id="statusid"
                                ng-model="document.statusId" class="form-control half-width">
                            <option ng-repeat="status in status_option_list"
                                    value="{{status.value}}">{{status.name}}
                            </option>
                        </select>
                    </div>
                </div>

                <!-- Choose document description -->
                <div class="form-group">
                    <label class="col-sm-3 control-label" for="standardDescription">Beskrivelse: </label>
                    <div class="form-group col-sm-9">
                        <textarea name="standardDescription" id="standardDescription" ng-model="document.description"
                                  class="form-control half-width" rows="6" cols="50"></textarea>
                    </div>
                </div>

                <!-- Choose which topic to create document under -->
                <div class="form-group">
                    <label class="col-sm-3 control-label" for="standardParent">Opprettes i: </label>
                    <div class="form-group col-sm-9">
                        <select name="standardParent" id="standardParent" ng-model="document.topicId"
                                class="form-control half-width">
                            <option ng-repeat="topic in topicTupleList" value={{topic.id}}>{{topic.path}}</option>
                        </select>
                    </div>
                </div>


            </div>
        </div>


        <!-- Choose document fields -->
        <document-fields></document-fields>

        <!-- Choose target groups -->
        <document-target-groups></document-target-groups>

        <document-link-categories></document-link-categories>

    </div>
</form>

<!-- Container for listing profiles related to the document -->
<profilescontainer></profilescontainer>
